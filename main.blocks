<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="KAPF8qDQgSx!Nx-[j(h!">line_position</variable><variable id="3RxeJYzz_B4u_RoX^+RH">trace_err</variable><variable id="vy@iDEYY4!Ye0ZIR@w]N">delta_err</variable><variable id=":bxTN*m$bfI{:m(fqp]b">trace_err_old</variable><variable id="d3D]~%0OGavqS0:w7{cO">PD_Value</variable><variable id="mga)qyRjR!*ES}etoVbS">IR</variable><variable id="vM]lGG4LOK0(b1pKmghL">IR_no</variable><variable id="XyczmRF+2[V5v~%ss4(g">goal_timer</variable><variable id="f~xd[/gya7KOfO|LpN.~">tuen_ticks</variable><variable id="jWtN$N)Fh~t*j5U8EVb3">move_ticks</variable><variable id="|J4NTcCmM-7kg3tFBRbP">crossroad_type</variable><variable id="xy.yDi-h+Rr*aV*(Dv,+">IR_old</variable><variable id="mIx;(.m){=wrwV-Y:z{3">IR_new</variable><variable id="!kfdwdqDY(d;]/N+v+[k">total_move_ticks</variable><variable id="poLf`W,9lsH1C$b:7|9N">total_turn_ticks</variable><variable id="6$zPXWT/sGUI/~NZjR=z">index</variable></variables><block type="pxt-on-start" id="|LI4YGP2OD1PdogJ#)QJ" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="3DsY.x3y.7HSvL/Gyhhd"><field name="VAR" id="XyczmRF+2[V5v~%ss4(g">goal_timer</field><value name="VALUE"><shadow type="math_number" id="?#PU3wr%[iPtq2M8[NP{"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="c79}_=Ych_z-0PdhRsR1"><field name="VAR" id="f~xd[/gya7KOfO|LpN.~">tuen_ticks</field><value name="VALUE"><shadow type="math_number" id="7c9;==Mh4TssXsOo{4_f"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="jxY85N+iKWG%n`m`f*nU"><field name="VAR" id="jWtN$N)Fh~t*j5U8EVb3">move_ticks</field><value name="VALUE"><shadow type="math_number" id="mIYuSnA141Mnsmq-!HqU"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="!,l{ym;N*JM$Zz0IBq8i"><field name="VAR" id="|J4NTcCmM-7kg3tFBRbP">crossroad_type</field><value name="VALUE"><shadow type="math_number" id="COI,?..rG7ERJHgr,KLM"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="T^%^JNwA6F|%)8Wb,c3y"><field name="VAR" id="xy.yDi-h+Rr*aV*(Dv,+">IR_old</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="CPzyE[8AB{(@+uSBYccz"><mutation items="0"/></block></value><next><block type="variables_set" id="]TW,aTlYH1SGsvFXJ9;u"><field name="VAR" id="mIx;(.m){=wrwV-Y:z{3">IR_new</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="BJvY2pTxS0j4k3YdNtIQ"><mutation items="0"/></block></value><next><block type="variables_set" id="voqZ5VYQRry#q%T_~|ID"><field name="VAR" id="!kfdwdqDY(d;]/N+v+[k">total_move_ticks</field><value name="VALUE"><shadow type="math_number" id="T6o|9(Ipz0*_)N.KV{mX"><field name="NUM">40</field></shadow></value><next><block type="variables_set" id="(xTx_8cf?/w|)Mcx?VC:"><field name="VAR" id="poLf`W,9lsH1C$b:7|9N">total_turn_ticks</field><value name="VALUE"><shadow type="math_number" id="+[8AM.os)WXbF1B?rF7?"><field name="NUM">100</field></shadow></value><next><block type="serial_redirect_to_usb" id="omK+v7w1~8l^vBd~Rx|@"/></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="sX:`-zaW6_X1fZ^]Gp{F" x="834" y="0"><field name="NAME">Button.AB</field><statement name="HANDLER"><block type="function_call" id="TC|w*o^5zC4yTop|T-CI"><mutation name="calibrate_IR" functionid="i8%:9c5Hh*W?8gHB*$i."/></block></statement></block><block type="function_definition" id="hp+LNvKL}2*{u*%Fa-)9" x="1109" y="0"><mutation name="get_IR_Data" functionid="e5nz,7:=D`O247GEkGL["/><field name="function_name">get_IR_Data</field><statement name="STACK"><block type="variables_set" id="yb~OFBS+?6{vM/*?=yJ$"><field name="VAR" id="mga)qyRjR!*ES}etoVbS">IR</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="oSQvVi.$u}z=RJoz:Aqk"><mutation items="0"/></block></value><next><block type="pxt_controls_for" id="v1;gQp0QQjnxt`/xh,cS"><value name="VAR"><shadow type="variables_get_reporter" id="a|3mlls,5Senqu#k$$/6"><field name="VAR" id="vM]lGG4LOK0(b1pKmghL">IR_no</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="T}MPCJ~H4Xv/lul3e|W/"><field name="NUM">4</field></shadow></value><statement name="DO"><block type="lists_index_set" id="Q^G2.MPUo.CcBMDftTwm"><value name="LIST"><block type="variables_get" id="7V;QjM;?2?+6;,@{#r)L"><field name="VAR" id="mga)qyRjR!*ES}etoVbS">IR</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Cnny]-dNW7W8]]k0T;Pt"><field name="VAR" id="vM]lGG4LOK0(b1pKmghL">IR_no</field></block></value><value name="VALUE"><block type="sensor_readIR2" id="Mf+ugk|fsIpm]/#m3;%)"><value name="SensorID"><shadow type="math_number_minmax"><mutation min="0" max="4"/><field name="SLIDER">0</field></shadow><block type="variables_get" id=":NBO`IROk+L|tUx@n+*g"><field name="VAR" id="vM]lGG4LOK0(b1pKmghL">IR_no</field></block></value></block></value></block></statement><next><block type="function_return" id="#)1wGgGQFFDm#VT8gBAC"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="whtYZPWY`)z;GbI;vl~."><field name="VAR" id="mga)qyRjR!*ES}etoVbS">IR</field></block></value></block></next></block></next></block></statement></block><block type="function_definition" id="m0pDRm7]~[hZ(wx:S~3D" x="527" y="31"><mutation name="calibrate_IR" functionid="i8%:9c5Hh*W?8gHB*$i."/><field name="function_name">calibrate_IR</field><statement name="STACK"><block type="basic_show_icon" id="Q[n$Fv}$)Gr}5fYPm^#7"><field name="i">IconNames.Ghost</field><next><block type="device_pause" id="]MlAfoGZz9*R~/xMxP=D"><value name="pause"><shadow type="timePicker" id="LQk2(5DRX^n.=IR.8~NH"><field name="ms">1000</field></shadow></value><next><block type="sensor_StartSampling" id="q/@U]|jINgfn]MHnNm#L"><next><block type="motor_MotorRun" id="IosjZuL^rPD9-)DdRk?{"><field name="index">BitRacer.Motors.All</field><value name="PWM"><shadow type="math_number_minmax" id="Gld)$Dhoi1Mf5IQdFM5/"><mutation min="-1000" max="1000" label="Number" precision="0"/><field name="SLIDER">250</field></shadow></value><next><block type="device_pause" id="0ur7ub?d+k~es(lP2?~U"><value name="pause"><shadow type="timePicker" id="/k==Y0P5!(5Hin-@Tg1]"><field name="ms">500</field></shadow></value><next><block type="motor_MotorRun" id=".k$cczHuUbZ*xO~Z-g+0"><field name="index">BitRacer.Motors.All</field><value name="PWM"><shadow type="math_number_minmax" id="uKIw^xsd4[W]fC=`$j8O"><mutation min="-1000" max="1000" label="Number" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="sensor_EndSampling" id="VxR545-gqyqwp]TE+xbC"><field name="Color">BitRacer.LineColor.White</field><next><block type="basic_show_icon" id="7HVus8.T+^F=u?TKC_L$"><field name="i">IconNames.Yes</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="0qqLo.U+q}6Rc;XKV3[=" x="842" y="156"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="function_call" id="cnSe-RksQpKR|F72}{F["><mutation name="testIR" functionid=".:9A9coaiR@0_p=*Z#0/"/></block></statement></block><block type="function_definition" id="7w#9|sZ~y*5|Rd?fRver" x="968" y="495"><mutation name="detect_crossroad_type" functionid="f{#_C4f);qWkje_y~@N5"/><field name="function_name">detect_crossroad_type</field><comment pinned="true" h="230.26943969726562" w="326.6624755859375">偵測路口型態，傳會變數crossroad_type路口型態值&#10;1:左轉, 2: &#10;3:&#10;4:&#10;5:&#10;6:&#10;7:&#10;8: 終點&#10;</comment><statement name="STACK"><block type="variables_set" id="OMtmT)AmMdD+QV]j/S3t"><field name="VAR" id="XyczmRF+2[V5v~%ss4(g">goal_timer</field><value name="VALUE"><shadow type="math_number" id="1-H[Wg0mo$IFOK{~Ex?|"><field name="NUM">0</field></shadow></value><next><block type="device_while" id="a-Hb7j|JEC(rGgYxt?ec"><value name="COND"><shadow type="logic_boolean" id="$7-v@z_FMQ,`^ej0^Go!"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="variables_set" id=";.90%T+lsm;P/K47K7uc"><field name="VAR" id="mIx;(.m){=wrwV-Y:z{3">IR_new</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id=":x$rZEV:t/p;l/d{:3lq"><mutation name="get_IR_Data" functionid="e5nz,7:=D`O247GEkGL["/></block></value></block></statement></block></next></block></statement></block><block type="function_definition" id="TO%[fq0U]O)(?..)%L8#" x="0" y="559"><mutation name="trace_line" functionid="d-GURWY-eqRV^?Gn[=T_"><arg name="base_speed" id="g01606fno5469lqf7lwm" type="number"/><arg name="Kp" id="xp88mqnc1xfydkx78psg" type="number"/><arg name="Kd" id="jbu0cu9rhxiyiv5lchxj" type="number"/></mutation><field name="function_name">trace_line</field><value name="g01606fno5469lqf7lwm"><shadow type="argument_reporter_number" id="[S^h+g=,j~o95`$A!T|t"><field name="VALUE">base_speed</field></shadow></value><value name="xp88mqnc1xfydkx78psg"><shadow type="argument_reporter_number" id="$rb*!=ZG]|qkcvRByo(."><field name="VALUE">Kp</field></shadow></value><value name="jbu0cu9rhxiyiv5lchxj"><shadow type="argument_reporter_number" id="W*X+@.1z$)GHCqdLYo2q"><field name="VALUE">Kd</field></shadow></value><statement name="STACK"><block type="variables_set" id="eWUc`|GBb#@(]X@SBre)"><field name="VAR" id="KAPF8qDQgSx!Nx-[j(h!">line_position</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="sensor_Line" id="}W2GMU{ck:N)b6ee1t,z"/></value><next><block type="variables_set" id="A%{,43J:4GT)qWIh`!U8"><field name="VAR" id="3RxeJYzz_B4u_RoX^+RH">trace_err</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="F;;|Yq[-ab!C~kN6=|dG"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="1cg8aCq~nueD:*lrr0aA"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="jlaGM!WTSO~Q3l(o/G._"><field name="VAR" id="KAPF8qDQgSx!Nx-[j(h!">line_position</field></block></value></block></value><next><block type="variables_set" id="V3XmB`7ky*qUnh(i?9]%"><field name="VAR" id="vy@iDEYY4!Ye0ZIR@w]N">delta_err</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="QKUE26Vn+*sRSU.=/s2m"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="NdB6Y]DZWl(-YTlk;3^|"><field name="VAR" id="3RxeJYzz_B4u_RoX^+RH">trace_err</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="o[_3vK=%,:+;b$=oF5!L"><field name="VAR" id=":bxTN*m$bfI{:m(fqp]b">trace_err_old</field></block></value></block></value><next><block type="variables_set" id="tChb^-u)V:`RuRu$H)Gj"><field name="VAR" id=":bxTN*m$bfI{:m(fqp]b">trace_err_old</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="sM7{RJT@Qu=A~}s~+s8C"><field name="VAR" id="3RxeJYzz_B4u_RoX^+RH">trace_err</field></block></value><next><block type="variables_set" id="i*P^sb-}(K^yWSF(2DFb"><field name="VAR" id="d3D]~%0OGavqS0:w7{cO">PD_Value</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="]1uEO53Ne|%DZH$^c3j~"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="{_Q=Mulf%6VoPa~5*yz~"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="u`B0RjM(b+jUZ3d@pMx("><field name="VALUE">Kp</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="D$8x]9$KEWXG#+?%Hv^~"><field name="VAR" id="3RxeJYzz_B4u_RoX^+RH">trace_err</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="z)gS#mpd%xnYj!8#e1g("><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="HZ*}g)hR@@t/hQ/+x}sd"><field name="VALUE">Kd</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="UFv3caO-q5K2.:}tyF`["><field name="VAR" id="vy@iDEYY4!Ye0ZIR@w]N">delta_err</field></block></value></block></value></block></value><next><block type="motor_MotorRun" id="TE-tEL~8N/dpn#vfGUeW"><field name="index">BitRacer.Motors.M_R</field><value name="PWM"><shadow type="math_number_minmax"><mutation min="-1000" max="1000"/><field name="SLIDER">0</field></shadow><block type="math_arithmetic" id="kM}p+iXOiE7^Q@Mj2*C/"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="_1Z6uokJZ{y9_(?V[rPJ"><field name="VALUE">base_speed</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="B=d:KA,-R[9NZ~QZ=ICO"><field name="VAR" id="d3D]~%0OGavqS0:w7{cO">PD_Value</field></block></value></block></value><next><block type="motor_MotorRun" id="zp!mJz9O2z4CsbSdU[zO"><field name="index">BitRacer.Motors.M_L</field><value name="PWM"><shadow type="math_number_minmax"><mutation min="-1000" max="1000"/><field name="SLIDER">0</field></shadow><block type="math_arithmetic" id="Q.=c)ykxYWEVH!OmjZyy"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="@95/87;N%{67qtX:YYd$"><field name="VALUE">base_speed</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="-9?`fr5}!85hUVCEgX$}"><field name="VAR" id="d3D]~%0OGavqS0:w7{cO">PD_Value</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="6,AgLe7K/8e3JbSv{9zJ" x="13" y="1107"><mutation name="testIR" functionid=".:9A9coaiR@0_p=*Z#0/"/><field name="function_name">testIR</field><statement name="STACK"><block type="device_while" id="s.r?{w%vRbo[|{#YTGag"><value name="COND"><shadow type="logic_boolean" id="BO#4,N?k+lC$O{%Ed559"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="variables_set" id="*6X/IYzf`HHO`J)1!`GD"><field name="VAR" id="mIx;(.m){=wrwV-Y:z{3">IR_new</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="z]J(?QN4H6Mgv7h;^V8:"><mutation name="get_IR_Data" functionid="e5nz,7:=D`O247GEkGL["/></block></value><next><block type="serial_writenumbers" id="cAn1XC(b~rUDk2+1G;V:"><value name="values"><block type="variables_get" id="p$*a|M:N*DEw(x-WcZO@"><field name="VAR" id="mIx;(.m){=wrwV-Y:z{3">IR_new</field></block></value><next><block type="variables_set" id=";g~QJtE[{lbJd+IP!Ola"><field name="VAR" id="KAPF8qDQgSx!Nx-[j(h!">line_position</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="sensor_Line" id="??B2t000RA.iq#]rNlh*"/></value><next><block type="serial_writevalue" id="hH0NI{HPWmou0/BSEyA8"><value name="name"><shadow type="text" id=".M^YW9~e83vFK[zoH^:G"><field name="TEXT">line</field></shadow></value><value name="value"><shadow type="math_number" id="!W}I{gu*}MV^D_kjDaBV"><field name="NUM">0</field></shadow><block type="variables_get" id="9W3nfP(2(y:J2K^Yaa2q"><field name="VAR" id="KAPF8qDQgSx!Nx-[j(h!">line_position</field></block></value><next><block type="device_pause" id="i1v(=T?)|9[AWPq~vv9d"><value name="pause"><shadow type="timePicker" id="hPn#!_cd!*0iWQHJ$6-I"><field name="ms">500</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></statement></block></xml>